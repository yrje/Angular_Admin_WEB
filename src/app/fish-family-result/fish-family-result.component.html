<div style="width:100%;height:100%">
  <div style="width:80%;float:left;height: 100%">
    <!--<form [formGroup]="inputResult">-->
      <!--<input class="email-input" placeholder="설문지를 작성할 이메일을 입력하십시오."  formControlName="userEmail">-->
      <select [(ngModel)]="selectedUser" style="padding:1%" *ngIf="!inputEmailCheck">
        <option value="" disabled>조회할 사용자 email을 선택해주십시오.</option>
        <option *ngFor="let user of allUserData" [value]="user.email">
          {{ user.email }} - {{ user.username }}
        </option>
      </select>
      <button class="button-style" (click)="loadDataSet()" *ngIf="!inputEmailCheck">확인</button>
    <button class="button-style" (click)="onRefresh()"  *ngIf="inputEmailCheck">사용자 조회하기</button>
    <button class="button-style" (click)="objectResult()"  *ngIf="inputEmailCheck">순서 다시보기</button>
    <!--</form>-->
  </div>
  <div style="width:100%" *ngIf="inputEmailCheck" >
    <kendo-dropdownlist
      [data]="countTurnList"
      [(ngModel)]="selectedTurn"
      (ngModelChange)="objectResult()"
      class="dropdown-list"
    ></kendo-dropdownlist>
<!--    <select [(ngModel)]="selectedTurn" style="padding:1%">
      <option value="" disabled>조회할 사용자 email을 선택해주십시오.</option>
      <option *ngFor="let turn of countTurnList">
        {{ turn}}
      </option>
    </select>-->

    <app-drag-and-drop style="float:left;" #canvas></app-drag-and-drop>
    <div style="float:right;height: 100%;"[ngStyle] = "styleObject"  >
      <div style="padding: 13px; border: #cccccc solid 1px;background-color: #FFFFFF;height: 1000px;border-radius: 20px;" *ngIf="resultSheetCheck">
        <!--설문답안지-->
        <div style="padding:2%;font-size: 20px;text-align: center;align-items: center;justify-content: center;box-shadow: 0px 10px 5px -2px rgb(239 239 240);">
        <span  style="font-size: 15px;text-align: center;align-items: center;justify-content: center;">[설문지]</span>
        </div>
          <div>
          <div style="height: 900px;overflow: auto;">
            <ng-container *ngFor="let title of questionTitle; let i = index;">
              <b><br>{{i+1}}. {{title.title}}<br></b>
              <ng-container *ngFor="let description of questionData;let j = index;">
                <ng-container *ngIf="title.titleId==description.titleId">
                  <input type="checkbox" id="{{description.id}}" name="{{description.id}}" value="{{description.id}}" [(ngModel)]="resultDescription[description.id]" >
                  {{description.description}}<br>

                  <ng-container *ngIf="questionList.includes(description.id)">
                    <ng-container *ngFor="let list of answerList; let k = index;">
                      <ng-container *ngIf="list.questionId==description.id">
                        <input style="margin-left: 5%;" type="radio" id="{{list.questionId}}" name="{{list.questionId}}" value="{{list.id}}" [(ngModel)]="resultDescription[description.id]">
                      {{list.description}}<br>
                    </ng-container>
                    </ng-container>
                  </ng-container>
                </ng-container>
              </ng-container>
            </ng-container>
            <div style="text-align: center">
              <button class="btn-style"(click)="saveResultSheet()">저장하기</button>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="!resultSheetCheck" style="background-color: #FFFFFF;height: 900px;border-radius: 20px;">
        <div style="padding:3%;font-size: 20px;text-align: center;align-items: center;justify-content: center;box-shadow: 0px 10px 5px -2px rgb(239 239 240);">
          <span>[결과지]</span> <br>
        </div>
        <div style="font-size: 20px;padding: 25px">
          {{resultSheet.description}}
        </div>
      </div>
    </div>
  </div>
</div>

